/*
 Progress Software 2015-2017
 @license Apache-2.0
*/
(function(d,f,a,c){if(d&&f&&a&&"undefined"===typeof c.spark){var b=null,e=null,g=null,h=null,n={id:"",filterQuery:"",data:{},success:!1,error:!1},l=null;c.spark={version:"v3.3.0 (2017.12.15.053901)",field:{},form:{},grid:{},loader:{},nav:{},notify:{},strings:{},jsdoError:function(a){var b=((a.xhr||{}).jsdo||{getErrors:function(){return[]}}).getErrors(),e=[];d.each(b,function(c,a){switch(a.type){case -1:var b=null;if(a.responseText)try{b=JSON.parse(a.responseText||"")}catch(r){console.log("Error while parsing response: "+
a.responseText||"N/A")}b&&"object"===typeof b?d.each(b,function(c,a){a["prods:errors"]&&d.each(a["prods:errors"],function(c,a){d.each(a,function(c,a){e.push(a["prods:error"])})})}):e.push(a.error);break;case -2:e.push(a.error+" ("+a.errorNum+")");break;case -3:e.push(a.error);break;case -4:e.push(a.error);break;default:console.log("Unknown error:",a)}});0===e.length&&""!==a.errorThrown&&e.push(a.errorThrown);0<e.length&&(console.warn("Errors: ",e),c.app&&c.app.showMessage?c.app.showMessage(e,"error"):
alert(e[0]));a.preventDefault();return!1},jsdoFailure:function(a,b,e){if(e.xhr&&401===e.xhr.status||403===e.xhr.status)c.spark.jsdoAuthError?c.spark.jsdoAuthError(e):alert("Session has expired. Please login again.");else if(e.response&&e.response._errors&&0<e.response._errors.length){a="";var g=e.response._errors.length,k;for(b=0;b<g;b+=1)k=e.response._errors[b]||{},a=a+" "+k._errorMsg||"UNKNOWN";""!==d.trim(a)&&console.warn(a)}},checkAuthentication:function(c,d){h||(h=new a.data.AuthenticationProvider({uri:c,
authenticationModel:d||a.data.Session.AUTH_TYPE_ANON}));var g=b||"anonymous",k=e||"anonymous";return h.hasClientCredentials()?h.logout().then(function(){return h.login(g,k)}):h.login(g,k)},createSession:function(m,k,n,f){g||(l||(f?l=f:this.setSessionName(m)),h||(h=new a.data.AuthenticationProvider({uri:m,authenticationModel:n||a.data.Session.AUTH_TYPE_ANON})),g=new a.data.JSDOSession({authenticationModel:n||a.data.Session.AUTH_TYPE_ANON,authProvider:h,serviceURI:m||null,name:l||"JSDOSession_Default"}));
if(k)return g.loginResult===a.data.Session.LOGIN_SUCCESS?g.isAuthorized().then(function(a,b,d){return c.spark.loadCatalogs(k)},function(a,b,d){return c.spark.loadCatalogs(k)}):h.login(b||"anonymous",e||"anonymous").then(function(a,b,d){return c.spark.loadCatalogs(k)},function(){return"Unable to reach the REST adapter to establish a session."});m=d.Deferred();m.resolve("No catalog(s) requested.");return m},loadCatalogs:function(a){g.catalogLoaded={};"string"==typeof a?g.catalogLoaded[a]=!1:a instanceof
Array&&d.each(a,function(a,c){g.catalogLoaded[c]=!1});return g.addCatalog(a).then(function(a,c,b){d.each(b,function(a,c){g.catalogLoaded[c.catalogURI]=c.result?!0:!1});return b},function(a,c,b){console.log("Response:",b);return"Failed to load catalog(s)."})},createJSDO:function(c){var b=null;d.each(g.JSDOs,function(a,d){d.name===c&&(b=d)});return b||new a.data.JSDO({name:c})},getMessages:function(a){a.response&&(a=a.response);return a&&a._errors&&0<a._errors.length?a._errors||!1:!1},showMessage:function(a,
c){var b=a._errorMsg||"",d;switch(a._errorType.toLowerCase()){case "error":case "fatal":case "trace":d="error";break;case "validation":case "warning":d="warning";break;default:d="info"}""!==b&&d&&c&&c(b,d)},setCredentials:function(a,c){b=a||null;e=c||null},setSessionName:function(a){l=a.replace(/\//g,"");""===l&&(l="Root");return l="JSDOSession_"+l},clone:function(a,c){return d.extend(!0,{},a,c)},toProperCase:function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},
getJsdoSession:function(){return g},getMergedOptions:function(a){return this.clone(n,a)},getQueryStringValue:function(a){var b=c.location.search;""===b&&(b=c.location.href);return unescape(b.replace(new RegExp("^(?:.*[&\\?]"+escape(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},createJSDODataSource:function(a,b){try{var e=c.spark.createJSDO(a);b.onBeforeFill&&(e.subscribe("beforeFill",b.onBeforeFill),delete b.onBeforeFill);b.onAfterSaveChanges&&(e.subscribe("afterSaveChanges",
b.onAfterSaveChanges),delete b.onAfterSaveChanges);var g=e.getMethodProperties("read"),h=[];g&&g.capabilities&&(h=g.capabilities.split(","));var n={serverFiltering:-1<h.indexOf("filter"),serverPaging:-1<h.indexOf("skip")&&-1<h.indexOf("top"),serverSorting:-1<h.indexOf("orderBy")||-1<h.indexOf("sort"),transport:{jsdo:e},type:"jsdo",error:c.spark.jsdoError};b.tableRef&&(e._buffers&&e._buffers[b.tableRef]?n.transport.tableRef=b.tableRef:console.log("Warning: Requested table '"+b.tableRef+"' does not exist in JSDO buffers."),
delete b.tableRef);var k=new f.data.DataSource(d.extend(n,b)),l=[];k.getFieldSchema=function(a){if(0===l.length){var c=(k.transport||{}).jsdo||null;l=c?c.getSchema():[]}return d.grep(l,function(c){return c.title==a})[0]||{}};return k}catch(q){return console.log("Unable to create JSDO DataSource for "+a+":",b),console.log(q.stack),new f.data.DataSource}},jsdo_read:function(a,b){var d=null,d=b.filterQuery||"",d=""===d?a.fill():a.fill(d);d.done(function(a,c,b){}).fail(c.spark.jsdoFailure);return d},
jsdo_create:function(a,b){a.add(b.data);var d=a.saveChanges(b.useSubmit);d.done(function(a,c,b){}).fail(c.spark.jsdoFailure);return d},jsdo_update:function(a,b){var d={},d=b.tableRef&&a[b.tableRef]?a[b.tableRef].findById(b.id):a.findById(b.id);try{d.assign(b.data)}catch(p){b.error(null,null,p)}d=a.saveChanges(b.useSubmit);d.done(function(a,c,b){}).fail(c.spark.jsdoFailure);return d},jsdo_delete:function(a,b){var d=a.findById(b.id);try{d.remove()}catch(p){b.error(null,null,p)}d=a.saveChanges(b.useSubmit);
d.done(function(a,c,b){}).fail(c.spark.jsdoFailure);return d}}}})(window.jQuery,window.kendo,window.progress,window);
(function(d,f){d&&f&&"undefined"!==typeof window.spark&&(window.spark=d.extend(window.spark,{getUrlParams:function(){var a={},c=location.search.substring(1)||"";""==c&&(c=location.hash||"",-1<c.indexOf("?")&&(c=c.split("?")[1]));c&&-1<c.indexOf("=")&&(a=c.replace(/&/g,'","').replace(/=/g,'":"'),a=JSON.parse('{"'+a+'"}',function(a,c){return""===a?c:decodeURIComponent(c)}));return a},clearPersistentObject:function(a){var c=window.localStorage||null;c&&c.clearObject?c.clearObject(a):c?delete c[a]:window.spark.setCookie(a,
"");return!0},setPersistentObject:function(a,c){var b=window.localStorage||null;b&&b.getObject?b.setObject(a,c):b?b[a]=JSON.stringify(c):window.spark.setCookie(a,JSON.stringify(c));return!0},getPersistentObject:function(a){var c="",b=window.localStorage||null;if(b&&b.getObject)return b.getObject(a);if(b){if(a=b[a],"string"===typeof a)try{c=JSON.parse(a)}catch(e){}}else if(a=window.spark.getCookie(a),"string"===typeof a)try{c=JSON.parse(a)}catch(e){}return c},clearSessionObject:function(a){var c=window.sessionStorage||
null;c&&c.clearObject?c.clearObject(a):c&&delete c[a];return!1},setSessionObject:function(a,c){var b=!1,d=window.sessionStorage||null;d&&d.getObject?(d.setObject(a,c),b=!0):d&&(d[a]=JSON.stringify(c),b=!0);return b},getSessionObject:function(a){var c="",b=window.sessionStorage||null;if(b&&b.getObject)c=b.getObject(a);else if(b){var d=b[a];"string"===typeof b[a]&&(c=JSON.parse(d))}return c},getCookie:function(a){a+="=";var c,b=document.cookie.split(";"),d;for(c=0;c<b.length;c+=1){for(d=b[c];" "==d.charAt(0);)d=
d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""},setCookie:function(a,c,b){var d=new Date;d.setTime(d.getTime()+864E5*(b||1));b="expires="+d.toUTCString();document.cookie=a+"="+c+"; "+b+"; path=/"},getToday:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)},getDateByDays:function(a){if("number"==typeof a&&0!=a){var c=new Date;a=c.setDate(c.getDate()+a);return new Date(a)}return new Date},getDateByWeeks:function(a){if("number"==
typeof a&&0!=a){var c=new Date,b=this.getDateByDays(-1*c.getDay()),b=c.setDate(b.getDate()+7*a);return new Date(b)}return new Date},getTemplate:function(a,c){if(d(a).length){var b=f.template(d(a).html());return c?b(c):b}return null}}));window.Storage&&(Storage.prototype.clearObject=function(a){this.removeItem&&this.removeItem(a)},Storage.prototype.getObject=function(a){return this.getItem?JSON.parse(this.getItem(a)):""},Storage.prototype.setObject=function(a,c){if(this.setItem)try{var b=JSON.stringify(c);
this.setItem(a,b)}catch(e){console.warn("Unable to store peristent object in DOM: "+e),console.warn("An error was encountered while storing data to the browser. Please view the ISC logs for details.")}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.loader={loadExtScreen:function(a,c,b){return d.ajax({dataType:"script",url:a+".js",success:function(b){return d.ajax({dataType:"html",url:a+".html",success:function(a){f.destroy(d("#"+c).children());d("#"+c).empty();d("#"+c).html(a)},error:function(c,b,d){404===c.status?alert("Error locating HTML file "+a+".html"):window.location.href=window.loginScreenURI?window.loginScreenURI:"/"}})},error:function(c,b,d){404===c.status?alert("Error locating JavaScript file "+
a+".js"):window.location.href=window.loginScreenURI?window.loginScreenURI:"/"}})},loadExtInclude:function(a,c,b,e){return d.ajax({dataType:"html",url:a,success:function(a){f.destroy(d("#"+c).children());d("#"+c).empty();d("#"+c).html(a);d("[data-toggle=tooltip]").tooltip()},error:function(c){alert("Error loading template file "+a)}})},loadExtTemplate:function(a,c,b,e){return d.ajax({dataType:"html",url:a,success:function(a){d("#"+c).append(a);a=f.template(d("#"+b).html())(e||{});f.destroy(d("#"+c).children());
d("#"+c).empty();d("#"+c).html(a)},error:function(c){alert("Error loading template file "+a)}})}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.field={lookupTextField:"name",lookupValueField:"value",USStateList:"AL AK AS AZ AR CA CO CT DE DC FM FL GA GU HI ID IL IN IA KS KY LA ME MH MD MA MI MN MS MO MP MT NE NV NH NJ NM NY NC ND OH OK OR PW PA PR RI SC SD TN TX UT VT VI VA WA WV WI WY".split(" "),getSelectedRecord:function(a){try{if(a.dataSource&&a.select){var c=a.dataSource.data();if(-1<a.select()&&0<c.length)return c[a.select()]}}catch(b){}return{}},createDatePicker:function(a,c){var b=
d(a);if(b.length){var e=(((f.cultures.current||{}).calendar||{}).patterns||{}).d||"MM/dd/yyyy";return b.kendoDatePicker(d.extend({format:e,parseFormats:[e,"MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},c)).getKendoDatePicker()}return null},createDatePickerMDY:function(a,c){var b=d(a);return b.length?b.kendoDatePicker(d.extend({format:"MM/dd/yyyy",parseFormats:["MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},c)).getKendoDatePicker():null},createFormattedField:function(a,c){var b=d(a);return b.length?b.kendoMaskedTextBox(d.extend({mask:c.mask||
null},c)).getKendoMaskedTextBox():null},createFormattedPhone:function(a,c){var b=d(a);return b.length?b.kendoMaskedTextBox(d.extend({mask:"(000) 000-0000"},c)).getKendoMaskedTextBox():null},createFormattedSSN:function(a,c){var b=d(a);return b.length?b.kendoMaskedTextBox(d.extend({mask:"000-00-0000"},c)).getKendoMaskedTextBox():null},createMultiLookup:function(a,c){var b=d(a);return b.length?b.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new f.data.DataSource,dataTextField:window.spark.field.lookupTextField,
dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},c)).getKendoMultiSelect():null},createSimpleLookup:function(a,c){var b=d(a);return b.length?!0===c.multiple?b.kendoMultiSelect(d.extend({autoClose:!1,dataSource:[],suggest:!0,valuePrimitive:!0},c)).getKendoMultiSelect():b.kendoDropDownList(d.extend({dataSource:[],suggest:!0,valuePrimitive:!0},c)).getKendoDropDownList():null},createSingleLookup:function(a,c){var b=d(a);return b.length?b.kendoDropDownList(d.extend({dataSource:new f.data.DataSource,
dataTextField:window.spark.field.lookupTextField,dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},c)).getKendoDropDownList():null},createUSStateList:function(a,c){var b=d(a);return b.length?b.kendoDropDownList(d.extend({dataSource:window.spark.field.USStateList,optionLabel:"Select",valuePrimitive:!0},c)).getKendoDropDownList():null},createInvokeLookup:function(a,c){var b=d(a);if(b.length){var e=null,e=!0===c.multiple?b.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new f.data.DataSource,
filter:"contains",suggest:!0,valuePrimitive:!0},c)).getKendoMultiSelect():b.kendoDropDownList(d.extend({dataSource:new f.data.DataSource,filter:"contains",valuePrimitive:!0},c)).getKendoDropDownList();if(!c.invokeResource)return console.log("Resource name was not specified for invoke lookup:",a),e;e&&c.invokeResource&&(e._jsdo=window.spark.createJSDO(c.invokeResource),c.invokeMethod?(e.fetchData=function(a){return e._jsdo.invoke(c.invokeMethod,a||{}).done(function(a,b,d){a=d.response||{};c.invokeDataProperty?
e.dataSource.data(a[c.invokeDataProperty]||[]):e.dataSource.data(a)})},void 0!=c.autoBind&&!0!==c.autoBind||e.fetchData(c.params||null)):(e.fetchData=function(a){console.log("Method is not currently configured for use.")},console.log("No method name provided for invoke lookup:",a)));return e}return null},createResourceLookup:function(a,c){if(!c.resourceName)return console.log("Resource name was not specified for resource lookup:",a),null;var b=d(a);if(b.length){var e={transport:{jsdo:window.spark.createJSDO(c.resourceName)},
type:"jsdo"};delete c.resourceName;var g=e.transport.jsdo.getMethodProperties("read");g&&g.capabilities&&(e.serverFiltering=-1<(g.capabilities||"").indexOf("filter"),e.serverPaging=-1<(g.capabilities||"").indexOf("top"),e.serverSorting=-1<(g.capabilities||"").indexOf("sort"));c.resourceTable&&(e.transport.tableRef=c.resourceTable,delete c.resourceTable);c.dataValueField&&(e.sort={field:c.dataValueField,dir:"asc"});c.filter&&(e.filter=c.filter,delete c.filter);return b.kendoDropDownList(d.extend({dataSource:new f.data.DataSource(e),
filter:"contains",suggest:!0,valuePrimitive:!0},c)).getKendoDropDownList()}return null},createResourceAutoComplete:function(a,c){var b=d(a);if(b.length){if(!c.resourceName)return console.log("Resource name was not specified for resource auto-complete:",a),null;var e={transport:{jsdo:window.spark.createJSDO(c.resourceName)},type:"jsdo",requestStart:function(a){var c=(this.filter()||{}).filters||[];if(0===c.length||""==(c[0]||{}).value)return a.preventDefault(),!1;if(1<c.length)return a.sender.filter(c[0]),
a.preventDefault(),!1}};delete c.resourceName;var g=e.transport.jsdo.getMethodProperties("read");g&&g.capabilities&&(e.serverFiltering=-1<(g.capabilities||"").indexOf("filter"),e.serverPaging=-1<(g.capabilities||"").indexOf("top"),e.serverSorting=-1<(g.capabilities||"").indexOf("sort"));c.pageSize&&(e.pageSize=c.pageSize,delete c.pageSize);c.resourceTable&&(e.transport.tableRef=c.resourceTable,delete c.resourceTable);c.dataValueField&&(e.sort={field:c.dataValueField,dir:"asc"});c.dataSourceOptions&&
(e=d.extend(e,c.dataSourceOptions),delete c.dataSourceOptions);return b.kendoAutoComplete(d.extend({dataSource:new f.data.DataSource(e),delay:400,filter:"startsWith",minLength:2,virtual:!0,change:function(a){},filtering:function(a){a=a.filter;c.filterField&&(a.field=c.filterField);return a}},c)).getKendoAutoComplete()}return null},addKeypressEvent:function(a,c){var b=null,e=d(a);return e.length?(c.onInvalidKey||(c.onInvalidKey=function(a){a&&a.preventDefault();return!1}),e.keypress(function(a){if(0!==
a.which){var d=String.fromCharCode(a.which);if(a.which===f.keys.BACKSPACE)clearTimeout(b),b=setTimeout(c.onValidKey,c.delay||400);else if(a.which===f.keys.ENTER)clearTimeout(b),b=setTimeout(c.onEnter,c.delay||400);else if(d.match(c.filter||/.*/))clearTimeout(b),b=setTimeout(c.onValidKey,c.delay||400);else return c.onInvalidKey.apply(this,[a])}}),e.keyup(function(a){a.which===f.keys.DELETE&&(clearTimeout(b),b=setTimeout(c.onValidKey,c.delay||400))}),!0):!1}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.form={doOnEnter:function(a,c,b){a=d(a);if(a.length)a.on("keypress",function(a){13===(a.keyCode?a.keyCode:a.which)&&c&&"function"===typeof c&&setTimeout(function(){c.apply(b||this,[a])},20)})},doOnSubmit:function(a,c,b){a=d(a);if(a.length)a.on("submit",function(a){a.preventDefault();c&&"function"===typeof c&&c.apply(b||this,[a])})},getValidator:function(a,c){var b=d(a);return b.length?b.getKendoValidator()&&!c?b.getKendoValidator():b.kendoValidator(d.extend({},
c)).getKendoValidator():null},reset:function(a,c){var b=d(a);if(b.length){var e=window.spark.form.getValidator(a,c);e&&(b[0]&&b[0].reset&&b[0].reset(),e.hideMessages())}},validate:function(a,c){var b=window.spark.form.getValidator(a,c);return b&&b.validate?b.validate():!1},getErrors:function(a){return(a=window.spark.form.getValidator(a,{}))&&a.errors?a.errors():[]},translateForm:function(a,c,b){var e=d(a+" input");d.each(e,function(a,b){var e=d(b).attr("required"),g=d(b).attr("data-required-msg");
g&&""!==g&&d(b).attr("data-required-msg",c(g));var h=d(b).attr("placeholder");h&&""!==h&&(d(b).attr("placeholder",c(h)),e&&!g&&(g=h+" is required",d(b).attr("data-required-msg",c(g))));var f=d(b).attr("name");f&&""!==f&&(f=f.replace(/([A-Z])/g," $1").trim(),f=f.replace(/^./,function(a){return a.toUpperCase()}),h||d(b).attr("placeholder",c(f)),g=d(b).attr("data-required-msg"),e&&!g&&(g=f+" is required",d(b).attr("data-required-msg",c(g))))});e=d(a+" textarea");d.each(e,function(a,b){var e=d(b).attr("required"),
g=d(b).attr("data-required-msg");g&&""!==g&&d(b).attr("data-required-msg",c(g));var f=d(b).attr("placeholder");f&&""!==f&&(d(b).attr("placeholder",c(f)),e&&!g&&(g=f+" is required",d(b).attr("data-required-msg",c(g))));var h=d(b).attr("name");h&&""!==h&&(h=h.replace(/([A-Z])/g," $1").trim(),h=h.replace(/^./,function(a){return a.toUpperCase()}),f||d(b).attr("placeholder",c(h)),g=d(b).attr("data-required-msg"),e&&!g&&(g=h+" is required",d(b).attr("data-required-msg",c(g))))});e=d(a+" label");d.each(e,
function(e,f){var g=d(f).attr("for");if(g&&(d(f).html(c(d(f).html())),b&&b.showRequiredIndicator)){var h=d(a+" input[name="+g+"]");h.length||(h=d(a+" textarea[name="+g+"]"));h.length&&d(h).attr("required")&&d(f).prepend('<span class="text-danger m-r-xxs">'+(b.requiredIndicator||"*")+"</span>")}if(g=d(f).attr("help"))g=d('<i class="fa fa-question-circle m-l-xs" data-container="body" data-placement="top"data-toggle="popover" data-trigger="hover" data-content="'+c(g)+'"></i>'),d(f).append(g)});d("[data-toggle=popover]").popover()}})})(window.jQuery,
window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.grid={getSelectedRecord:function(a,c){if(c){var b=d(a.target).closest("tr");return c.dataItem(b)}return(c=a.sender)?c.dataItem(c.select()):{}},getViewState:function(a){return a?{columns:a.columns||[],filter:a.dataSource.filter(),group:a.dataSource.group(),sort:a.dataSource.sort()}:{columns:null,filter:null,group:null,sort:null}},onChange:function(a){return function(c){var b=this.select();c=d.map(b,function(a){return d(a).text()});b=this.columns[b[0].cellIndex];a.callback&&
"function"===typeof a.callback&&a.callback(c,b);return a.returnVal||!1}},createReadOnlyEditor:function(){return function(a,c){a.text(c.model[c.field])}},createDatePickerEditor:function(a){return function(c,b){b.sparkEditor=window.spark.field.createDatePicker(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid();setTimeout(function(){b.sparkEditor.value(b.model[b.field]||b.model.defaults[b.field])},20)}},createFormattedFieldEditor:function(a){return function(c,
b){b.sparkEditor=window.spark.field.createFormattedField(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid();setTimeout(function(){b.sparkEditor.value(b.model[b.field]||b.model.defaults[b.field])},20)}},createMultiLookup:function(a){return function(c,b){b.sparkEditor=window.spark.field.createMultiLookup(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid();setTimeout(function(){var a=
b.model[b.field]||b.model.defaults[b.field];"string"===typeof a&&-1<a.indexOf(",")&&(a=a.split(","));b.sparkEditor.value(a)},20)}},createSimpleLookupEditor:function(a){return function(c,b){b.sparkEditor=window.spark.field.createSimpleLookup(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid();setTimeout(function(){b.sparkEditor.value(b.model[b.field]||b.model.defaults[b.field])},20)}},createSingleLookupEditor:function(a){return function(c,
b){b.sparkEditor=window.spark.field.createSingleLookup(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid();setTimeout(function(){b.sparkEditor.value(b.model[b.field]||b.model.defaults[b.field])},20)}},createInvokeLookupEditor:function(a){return function(c,b){b.sparkEditor=window.spark.field.createInvokeLookup(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid()}},
createResourceLookupEditor:function(a){return function(c,b){b.sparkEditor=window.spark.field.createResourceLookup(d('<input data-bind="value:'+b.field+'"/>').appendTo(c),a);b.sparkEditor.grid=d(c).closest("div.k-grid").getKendoGrid()}}})})(window.jQuery,window.kendo);
(function(d){d&&window.spark&&(window.spark.io={addExtensionClass:function(d){switch(d){case ".jpg":case ".img":case ".png":case ".gif":return"fa fa-file-image-o fa-3x";case ".doc":case ".docx":return"fa fa-file-word-o fa-3x";case ".xls":case ".xlsx":return"fa fa-file-excel-o fa-3x";case ".pdf":return"fa fa-file-pdf-o fa-3x";case ".zip":case ".rar":return"fa fa-file-zip-o fa-3x";default:return"fa fa-file-o fa-3x"}},createUpload:function(f,a,c){return(f=d(f))?f.kendoUpload(d.extend({async:{autoUpload:a.autoUpload||
!1,batch:a.batchUpload||!1,saveUrl:a.saveUrl||"upload",saveField:a.saveField||"files"},enabled:a.enableUpload||!1,multiple:a.multiUpload||!1,showFileList:a.showFileList||!1,template:a.template||null,cancel:a.onCancel||null,complete:a.onComplete||null,error:a.onError||null,progress:a.onProgress||null,success:a.onSuccess||null,upload:a.onUpload||null,select:a.onSelect||null,remove:a.onRemove||null},c)).getKendoUpload():null}})})(window.jQuery);
(function(d,f){d&&f&&window.spark&&(window.spark.nav={createSimpleRouter:function(a){function c(c,b,d,f){window.spark.loader.loadExtScreen(b,a.mainContentID,c).complete(function(){if(a.onLoad&&"function"===typeof a.onLoad)a.onLoad(c,b,d,f)})}a||(a={});a.mainContentID&&""!==a.mainContentID||(a.mainContentID="mainContent");var b=new f.Router({change:a.onChange||function(a){}});b.loggedIn=!1;b.menuData=[];b.isSecurePage=function(a){var c=!1;d.each(this.menuData||[],function(b,e){e.items&&d.each(e.items,
function(b,d){d.url==a&&(c=!0===d.secure)})});return c};b.route("/",function(){var e=d.Deferred();a.getLandingPage?e=a.getLandingPage():e.resolve("");e.done(function(d){if((d||"").startsWith("#/"))b.navigate(d);else if(""!==(d||"")){var e=a.filePathPrefix+d;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(c,d,e);else c(d,e)}else if(a.onLoad&&"function"===typeof a.onLoad)a.onLoad("")})});b.route("/logout",function(){window.spark.getJsdoSession().logout().then(function(){if(a.onLogout)a.onLogout()})});
b.route("/:page",function(b){var d=a.filePathPrefix+b;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(c,b,d);else c(b,d)});b.route("/:sec/:page",function(b,d){var e=a.filePathPrefix+b+"/"+d;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(c,d,e,b);else c(d,e,b)});b.route("/:sec/:sub/:page",function(b,d,f){var e=a.filePathPrefix+b+"/"+d+"/"+f;if(a.onBeforeLoad&&"function"===typeof a.onBeforeLoad)a.onBeforeLoad(c,f,e,b,d);else c(f,e,b,d)});return b},createVerticalStackMenu:function(a,
c){var b=d(a);if(b){b.empty();var e=d('<nav class="nav-primary hidden-xs" data-ride="collapse" role="navigation"></nav>'),g=d('<ul class="nav" data-ride="collapse"></ul>');"object"===typeof c&&d.each(c,function(a,b){var c="";window.app&&window.app.currentPage.path&&""!=window.app.currentPage.path&&(c="#"+window.app.currentPage.path.replace("app/views",""));var e=d('<a href="javascript:void(0)" class="auto nav-link"></a>');b.icon?e.append(d('<i class="fa '+b.icon+' m-r-xs"></i>')):b.spriteCssClass&&
e.append(d('<i class="'+b.spriteCssClass+' m-r-xs"></i>'));var f=d('<li class="nav-item"></li>');e.append(d("<span>"+b.text+"</span>"));f.append(e);var h=d('<ul class="nav dker"></ul>');"object"===typeof b.items&&d.each(b.items,function(a,b){var e=d('<a class="nav-link"></a>');e.attr("href",b.url);0===b.url.indexOf("http")&&e.attr("target","_blank");var g=d('<li class="nav-item"></li>');g.append(e.text(b.text));h.append(g);""!=c&&c==b.url&&(f.addClass("active"),e.addClass("active"))});f.append(h);
g.append(f)});e.append(g);b.append(e)}else console.info("No menu element has been defined.");d(document).on("click",".nav-primary a",function(a){var b=d(a.target),c;b.is("a")||(b=b.closest("a"));d(".nav-vertical").length||((c=b.parent().siblings(".active"))&&c.find("> a").toggleClass("active")&&c.toggleClass("active").find("> ul:visible").slideUp(200),b.hasClass("active")&&b.next().slideUp(200)||b.next().slideDown(200),b.toggleClass("active").parent().toggleClass("active"),b.next().is("ul")&&a.preventDefault(),
setTimeout(function(){d(document).trigger("updateNav")},300))})}})})(window.jQuery,window.kendo);
(function(d,f){d&&f&&window.spark&&(window.spark.notify={setNotificationArea:function(a,c){var b=null,e=d(a);e.length&&(b=e.kendoNotification(d.extend({appendTo:a,autoHideAfter:3E4,button:!0},c)).getKendoNotification(),b.showNotification=function(a,b){var c=this;if(c)try{if("string"===typeof a&&""!==a?c.show(a,b||"info"):Array.isArray(a)&&d.each(a,function(a,d){""!==d&&c.show(d,b||"info")}),c.options&&c.options.appendTo){var e=d(c.options.appendTo);e.length&&e.scrollTop(e[0].scrollHeight)}}catch(m){console.log(m)}});
return b},responseHasInfo:function(a){var c=!1,b=null;d.each((a||{})._errors||[],function(a,d){b=d._errorType||"";if("INFORMATION"===b||"SUCCESS"===b)c=!0});return c},responseHasErrors:function(a){var c=!1,b=null;d.each((a||{})._errors||[],function(a,d){b=d._errorType||"";if("ERROR"===b||"FATAL"===b||"TRACE"===b)c=!0});return c}})})(window.jQuery,window.kendo);
(function(d){if(d&&window.spark){var f={},a=[];String.prototype.startsWith||(String.prototype.startsWith=function(a,b){b=b||0;return this.indexOf(a,b)===b});window.spark.strings={trackTranslations:!1,addTranslatedStrings:function(a){"object"===typeof a&&(f=d.extend(f,a))},getTranslatedString:function(a){window.spark.strings.trackTranslation(a);return f&&f[a]?f[a]:a},trackTranslation:function(c){window.spark.strings.trackTranslations&&c&&""!==c&&-1===a.indexOf(c)&&a.push(c);return a}}}})(window.jQuery); //# sourceMappingURL=spark.min.map